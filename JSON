{
  "KLWP_Preset_Template": {
    "name": "LENA HUD v11",
    "description": "Interactive Lena Wallpaper - Headless Tasker Edition",
    "resolution": "1920x1080 (16:9)",
    "layers": [
      {
        "layer_name": "Background",
        "type": "Shape",
        "shape_type": "Rectangle",
        "width": "screen",
        "height": "screen",
        "gradient": {
          "type": "linear",
          "angle": 90,
          "colors": [
            {"position": 0, "color": "#0D0221"},
            {"position": 100, "color": "#240046"}
          ]
        }
      },
      {
        "layer_name": "Animated_Particles",
        "type": "FX_Layer",
        "fx_type": "particles",
        "particle_color": "$tc(len_color)$",
        "particle_count": 50,
        "particle_size": "2-5",
        "speed": "slow"
      },
      {
        "layer_name": "Lena_Portrait",
        "type": "Image",
        "image_path": "/sdcard/KLWP/lena_portrait.png",
        "width": 400,
        "height": 600,
        "position": {
          "x": "center",
          "y": "25% from top"
        },
        "scale_formula": "$if(tc(len_pulse)=1, 100+10*sin(2*pi()*(df(S)+df(s)/60)), 100)$",
        "opacity": 100,
        "note": "Lena's portrait - pulsuje gdy len_pulse=1"
      },
      {
        "layer_name": "Glow_Halo",
        "type": "Shape",
        "shape_type": "Circle",
        "width": 450,
        "height": 450,
        "position": "za Lena_Portrait",
        "color": "$tc(len_color)$40",
        "blur": 50,
        "opacity_formula": "$if(tc(len_intensity)>70, 80, tc(len_intensity))$",
        "note": "ÅšwiecÄ…ca aura za LenÄ…"
      },
      {
        "layer_name": "Status_Panel",
        "type": "Shape",
        "shape_type": "Rectangle",
        "width": 700,
        "height": 180,
        "corner_radius": 25,
        "position": {
          "x": "center",
          "y": "70% from top"
        },
        "color": "$tc(len_color)$30",
        "border": {
          "width": 2,
          "color": "$tc(len_color)$"
        },
        "children": [
          {
            "type": "Text",
            "text": "$tc(len_status)$",
            "font": "Roboto Medium",
            "size": 20,
            "color": "#FFFFFF",
            "position": "center",
            "alignment": "center",
            "max_lines": 2,
            "note": "GÅ‚Ã³wny komunikat Leny"
          },
          {
            "type": "Text",
            "text": "Humor dziÅ›: $tc(len_humor)$",
            "font": "Roboto Regular",
            "size": 14,
            "color": "$tc(len_color)$",
            "position": "bottom-10",
            "alignment": "center"
          }
        ]
      },
      {
        "layer_name": "Stats_Bar",
        "type": "Overlap_Group",
        "position": {
          "x": "center",
          "y": "85% from top"
        },
        "children": [
          {
            "type": "Text",
            "text": "ðŸ’œ CzuÅ‚oÅ›Ä‡: $tc(len_czu)$",
            "font": "Roboto Regular",
            "size": 16,
            "color": "#FFFFFF"
          },
          {
            "type": "Progress_Bar",
            "width": 600,
            "height": 12,
            "progress_formula": "$tc(len_intensity)$",
            "bar_color": "$tc(len_color)$",
            "background_color": "#10002B80",
            "corner_radius": 6,
            "position": "10px below text"
          },
          {
            "type": "Text",
            "text": "ðŸ¤ Interakcje: $tc(len_int)$",
            "font": "Roboto Regular",
            "size": 14,
            "color": "#C77DFF",
            "position": "10px below progress bar"
          }
        ]
      },
      {
        "layer_name": "Context_Icons",
        "type": "Stack_Group",
        "orientation": "horizontal",
        "spacing": 20,
        "position": {
          "x": "right-50",
          "y": "top+50"
        },
        "children": [
          {
            "type": "Text",
            "text": "ðŸŽµ",
            "size": 32,
            "visible_formula": "$if(tc(len_music)=1, ALWAYS, REMOVE)$",
            "note": "Pokazuj tylko gdy muzyka gra"
          },
          {
            "type": "Text",
            "text": "ðŸŽ§",
            "size": 32,
            "visible_formula": "$if(tc(len_bt)=1, ALWAYS, REMOVE)$",
            "note": "Pokazuj tylko gdy Bluetooth"
          },
          {
            "type": "Text",
            "text": "âš¡",
            "size": 32,
            "visible_formula": "$if(tc(len_usb)=1, ALWAYS, REMOVE)$",
            "note": "Pokazuj tylko gdy Å‚adowanie"
          },
          {
            "type": "Text",
            "text": "ðŸŽ®",
            "size": 32,
            "color": "#00FF00",
            "visible_formula": "$if(tc(len_app)=\"Game\", ALWAYS, REMOVE)$",
            "note": "Pokazuj tylko w trybie gry"
          }
        ]
      },
      {
        "layer_name": "Overload_Flash",
        "type": "Shape",
        "shape_type": "Rectangle",
        "width": "screen",
        "height": "screen",
        "color": "#FF00FF",
        "opacity_formula": "$if(tc(len_pulse)=1, 15+10*sin(4*pi()*(df(S)+df(s)/60)), 0)$",
        "note": "PulsujÄ…cy overlay gdy overload"
      },
      {
        "layer_name": "Touch_Area_Petting",
        "type": "Shape",
        "shape_type": "Rectangle",
        "width": 400,
        "height": 600,
        "position": "over Lena_Portrait",
        "color": "#00000000",
        "touch_action": {
          "type": "Tasker",
          "task": "Handle_Petting"
        },
        "note": "Niewidoczny obszar do gÅ‚askania Leny"
      },
      {
        "layer_name": "Last_Event_Indicator",
        "type": "Text",
        "text": "ðŸ“Œ $tc(len_event)$",
        "font": "Roboto Regular",
        "size": 12,
        "color": "#C77DFF80",
        "position": {
          "x": "left+20",
          "y": "bottom-20"
        },
        "note": "MaÅ‚y wskaÅºnik ostatniego eventu"
      }
    ]
  },
  
  "Recommended_Formulas": {
    "Smooth_Pulse": "$if(tc(len_pulse)=1, 100+20*sin(2*pi()*(df(S)+df(s)/60)), 100)$",
    "Fast_Pulse": "$if(tc(len_pulse)=1, 100+30*sin(4*pi()*(df(S)+df(s)/60)), 100)$",
    "Breathing_Effect": "100+15*sin(pi()*(df(S)+df(s)/60))",
    "Fade_In_Out": "$if(tc(len_czu)>500, 100, tc(len_czu)/5)$",
    "Color_Shift": "$if(tc(len_pulse)=1, tc(len_color), #9D4EDD)$",
    "Rotate_On_Shake": "$if(tc(len_event)=\"PotrzÄ…Å›niÄ™cie\", 360*(df(s)/60), 0)$"
  },
  
  "Color_Palette": {
    "Primary": "#9D4EDD",
    "Secondary": "#C77DFF",
    "Accent": "#E0AAFF",
    "Dark": "#10002B",
    "Dark_Alt": "#240046",
    "Darker": "#0D0221",
    "Overload": "#FF00FF",
    "Overload_Glow": "#FF00FFCC"
  },
  
  "Animation_Presets": {
    "Smooth_Fade": {
      "duration": "300ms",
      "easing": "ease-in-out"
    },
    "Quick_Pop": {
      "duration": "150ms",
      "easing": "ease-out"
    },
    "Pulse": {
      "duration": "1000ms",
      "easing": "sine",
      "loop": true
    }
  },
  
  "Touch_Actions": {
    "Lena_Portrait": {
      "action": "Tasker Task",
      "task_name": "Handle_Petting",
      "feedback": "Haptic (light)"
    },
    "Stats_Bar": {
      "action": "Tasker Task",
      "task_name": "Send_All_To_KLWP",
      "feedback": "None"
    }
  },
  
  "Tips": [
    "UÅ¼yj Global Switch w KLWP aby Å‚atwo wÅ‚Ä…czaÄ‡/wyÅ‚Ä…czaÄ‡ poszczegÃ³lne warstwy",
    "Dla lepszej wydajnoÅ›ci, ogranicz liczbÄ™ warstw z animacjami sin() do max 5",
    "Pulsowanie overload wyglÄ…da najlepiej z frequency=4 (szybkie)",
    "Dodaj blur do glow_halo dla lepszego efektu",
    "UÅ¼yj '$if(tc(len_app)!=\"\", ..., ...)$' aby sprawdziÄ‡ czy jakaÅ› app jest aktywna",
    "PamiÄ™taj: zmienne aktualizujÄ… siÄ™ co ~1s, wiÄ™c nie oczekuj instant reaction",
    "Dla touch feedback, wÅ‚Ä…cz Haptic w Global Settings"
  ],
  
  "Performance_Tips": [
    "JeÅ›li lag: zmniejsz particle count z 50 do 20",
    "WyÅ‚Ä…cz blur jeÅ›li device sÅ‚aby",
    "UÅ¼yj Lower Quality rendering w KLWP settings",
    "Ogranicz formuÅ‚y sin() tylko do krytycznych elementÃ³w",
    "Nie uÅ¼ywaj wiÄ™cej niÅ¼ 3-4 gradient layers jednoczeÅ›nie"
  ]
}